/**
 * File:
 *  
 *  testcase for partition proposal
 *
 * Authors:
 *   Michael Hager <mike@suse.de>
 *
 * $Id$
 *
 * 
 */

{

// sample target map used for testing


////////////////////////////////////////////////////////////////////////////////  
//                           TESTCASES
////////////////////////////////////////////////////////////////////////////////  
   
   map test_empty = $[
  "/dev/hdd":
	$[
	  "bus" : "IDE", "cyl_count" : 5000, "cyl_size" : 1000000,
	  "device" : "/dev/hdc", "name" : "4. IDE, 25.49 GB, /dev/hdd, (full)",
	  "partitions" : [ ],
	  "vendor" : "WDC"
	]
   ];

   
  

   textdomain "partitioning";

   import "Arch";
   import "Storage";

   map targetMap = test_empty;
   Storage::SetTargetMap( targetMap );
   Mode::test = true;

   ///////////////////////////////////////////////////////////////////////////
   ///////////////////////////////////////////////////////////////////////////
   // SIMULATE OLD SYSTEM WITHOUT LBA SUPPORT
   ///////////////////////////////////////////////////////////////////////////
   ///////////////////////////////////////////////////////////////////////////

   Storage::SetTestsuite( true );

   import "BootLILO";
   BootLILO::lba_support = true;

   include "partitioning/do_proposal.ycp";

   map ret = Storage::GetTargetMap();
   Storage::SetTargetMap( targetMap );
   ret = do_proposal();

}   
